<!DOCTYPE html>
<html>

<head>
    <title>Network Trainer</title>
    <link rel="stylesheet" href="otherStyles.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway">
  <style type="text/css">
  body {
    font-family: 'Raleway';
    font-size: 20px;
  }
</style>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.16/browser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/1.6.2/remarkable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-bootstrap/0.29.4/react-bootstrap.min.js"></script>
    <script src="//www.parsecdn.com/js/parse-1.6.14.min.js"></script>

<script>
var Alert = ReactBootstrap.Alert;
</script>

</head>

<body> 
<div id="mainContent">
	<h1 style='margin-bottom: 30px'>Rate the Song</h1>
      <p class='successtext'><iframe src="https://embed.spotify.com/?uri=spotify%3Atrack%3A2rw0wyFRsXvt0SEmHvW7fz" width="100%" height="80" frameborder="0" allowtransparency="true"></iframe></p>

</div>

<div id="mountPoint"></div>
</body>
<script type="text/babel">

var ButtonToolbar = ReactBootstrap.ButtonToolbar;
var Button = ReactBootstrap.Button;

var buttonGroupInstance = (

<div className="buttonWrapper">
  <ButtonToolbar>
    <Button bsStyle="success" bsSize="large" block>Upvote</Button>
    <Button bsStyle="info" bsSize="large" block>Neutral</Button>
    <Button bsStyle="danger" bsSize="large" block>Downvote</Button>
  </ButtonToolbar>
  </div>

);

ReactDOM.render(buttonGroupInstance, mountPoint);
</script>

<script type="text/javascript">
	var parseAppID = "DbIzrOrgg4QJ3x9OoKsvslFNhKeNjPn4nWIc6xrP"
	var parseJSID = "w9uobx79p20tsFmZzPe7xsjOGOvNxRKYhDbpCrH5"
	Parse.initialize(parseAppID, parseJSID);


	// Parses arguments to determine if access_token was delivered
	

	// Determines if login was successful
	 $(document).ready(
      function() {
        var args = parseArgs();
        if ('access_token' in args){
          accessToken = args['access_token']
          // $(".wrapper").hide();
          // $(".successtext").show();
          // $(".ttext").hide();

          // Show the player, buttons, & uname
          

          fetchCurrentUserProfile(function(user) {
            if (user) {
              curUserID = user.id;
        } else {
          error("Trouble getting the user profile");
        }
      });
          setTimeout(function(){
          topTracks = getTopTracks(curUserID);
          topArtists = getTopArtists(curUserID);
        }, 1000);

          setTimeout(function(){
            $(".successtext").text("Got it! Thanks for letting us grab your data. We will send more instructions Monday morning regarding the next phase.");
          }, 7000);
      } else {
      $(".successtext").hide();
    }
  }
  );

</script>

</html>
